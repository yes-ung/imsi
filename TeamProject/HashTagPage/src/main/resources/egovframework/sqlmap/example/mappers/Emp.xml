<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="egovframework.example.emp.service.impl.EmpMapper">
<select id="selectEmpList" parameterType="Criteria"
resultType="EmpVO">

select * from tb_emp
where ename like '%' || #{searchKeyword} ||'%'
offset #{firstIndex} ROWS
FETCH NEXT #{pageUnit} rows only
</select>

<select id="selectEmpListTotCnt" parameterType="Criteria"
 resultType="int">
select count(*) from tb_emp
where ename like '%' || #{searchKeyword} ||'%'


</select>

<insert id="insert" parameterType="EmpVO">
insert into tb_emp(ENO,ENAME,JOB,MANAGER,HIREDATE,SALARY,COMMISSION,DNO,INSERT_TIME)
VALUES(SQ_EMP.nextval,#{ename},#{job},#{manager},#{hiredate},#{salary},#{commission},#{dno},to_char(sysdate,'YYYY-MM-DD HH24:MI:SS'))


</insert>
<select id="selectEmp"
         parameterType="int"
         resultType="EmpVO">
      SELECT * FROM TB_EMP
      WHERE ENO=#{eno}      
   </select>
   
   <update id="update"
         parameterType="EmpVO">
      update tb_emp
     set ename=#{ename},
         JOB=#{job},
         MANAGER=#{manager},
         HIREDATE=#{hiredate},
         SALARY=#{salary},
         COMMISSION=#{commission},
         DNO=#{dno},
         UPDATE_TIME=TO_CHAR(SYSDATE, 'YYYY-MM-DD HH24:MI:SS')
     where eno=#{eno}
   </update>
   
   <delete id="delete"
         parameterType="EmpVO">
         delete tb_emp
         where eno=#{eno}
   
   </delete>

</mapper>